{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Description" content="OnCl - Edu. Cloud is a Educational Cloud Application which helps students, faculty and others who are in the learning world.">
    <!-- Theme Color above the Navbar in Mobile Phones -->
    <meta name="theme-color" content="#5f95eb">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Stylesheet for Google Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- FontAwesome Icons -->
    <script src="{% static 'oncl_app/font_awesome.js' %}"></script>

    <!-- Google Font Root Link -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<!-- Font Style for Session Details -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@500&display=swap" rel="stylesheet">
    <!-- Font Style for Navbar -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
	<!-- Font Style for Cards -->
	<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap Link -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Jquery Link -->
    <script src="{% static 'oncl_app/jquery_3.6.0.min.js' %}"></script>
    <!-- Styles for Content -->
    <link href="{% static 'oncl_app/assets/css/landing-page.css' %}" rel="stylesheet"/>
    <!-- Cache Controller -->
    <meta http-equiv="Cache-Control: max-age=31536000" content="public">
	<!-- Google reCaptcha -->
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	<!-- AutoComplete -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>   -->
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>  
	<link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" /> 
	<!-- Icons -->
    <link rel="apple-touch-icon" href="{% static 'oncl_app/OnCl Logo [Background Removed].png' %}" type="image/icon type">
    <link rel="icon" href="{% static 'oncl_app/OnCl Logo [Background Removed].png' %}" type="image/icon type">

  <style>
/* Styles for Navbar */
.bg-light {
	background-color: #ffffff!important;
	box-shadow: 0 20px 40px -14px rgba(0, 0, 0, 0.25);
}

.navbar-brand {
	margin: 0;
}

/* Styles for Navbar Logo */
.header_img {
	height: 30px;
	width: 30px;
	margin-bottom: 6px;
}

.hidden_text {
	font-size: 1.6rem;
}

@media only screen and (max-width: 768px) {
	.header_img {
		height: 30px;
		width: 30px;
		margin-bottom: 8px;
	}

	.hidden_text {
		font-size: 1.6rem;
  	}
}

@media only screen and (max-width: 426px) {
	.header_img {
		height: 30px;
		width: 30px;
		margin-bottom: 3px;
	}

	.hidden_text {
		font-size: 1.6rem;
  	}
}

@media only screen and (max-width: 351px) {
	.header_img {
		height: 27.5px;
		width: 27.5px;
		margin-bottom: 4px;
	}
	.hidden_text {
		font-size: 1.4rem;
  	}
}

@media only screen and (max-width: 321px) {
	.header_img {
		height: 27.5px;
		width: 27.5px;
		margin-bottom: 4px;
	}
	.hidden_text {
		font-size: 1.4rem;
  	}
}

@media only screen and (max-width: 315px) {
	.header_img {
		height: 25px;
    	width: 25px;
    	margin-bottom: 4px;
  	}
	#headername {
		font-size: 0rem;
  	}
	.hidden_text {
		font-size: 1.3rem;
  	}
}

@media only screen and (max-width: 300px) {
	.header_img {
		height: 25px;
    	width: 25px;
    	margin-bottom: 4px;
  	}
	#headername {
		font-size: 0rem;
  	}
	.hidden_text {
		font-size: 1.2rem;
  	}
}

/* Remove extra left and right margins, due to padding */
.row {margin: 0 5px;}

.User-area {
		width: 45px;
		height: 45px;
		position: relative;
		cursor: pointer;
}
	.User-area > .User-avtar {
		width: 100%;
		height: 100%;
		border-radius: 30px;
		border: 2px solid #fff;
		box-shadow: 0px 0px 2px 0px #000;
}
	.User-area > .User-avtar > img {
		width: 100%;
		height: 100%;
		border-radius: 30px;
}
	.User-avtar .badge {
		position: absolute;
		right: -5px;
		bottom: -2px;
		width: 18px;
		height: 18px;
		background: #fff;
		border-radius: 50%;
		box-shadow: -3px 3px 3px -3px rgba(214, 214, 214, 0.78);
}
	.User-avtar .badge i {
		font-weight: normal;
		font-size: 11px;
		margin-left: 4px;
		margin-top: 5px;
		vertical-align: text-top;
		color: #080707;
}
	.badge i {
		-moz-transition: all 0.3s linear;
		-webkit-transition: all 0.3s linear;
		transition: all 0.3s linear;
}
	.__opened .badge i {
		margin-top: 2px;
		-ms-transform: rotate(180deg);
		-moz-transform: rotate(180deg);
		-webkit-transform: rotate(180deg);
		transform: rotate(180deg);
}
	.User-avtar span {
		width: 190px;
		font-size: 16px;
		position: absolute;
		display: inline-block;
		min-width: 90px;
		top: 5px;
		left: -200px;
		font-weight: bold;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
}
	.User-Dropdown {
		display: none;
		position: absolute;
		border-radius: 7px;
		background: #fff;
		box-shadow: 0px 0px 8px rgba(214, 214, 214, 0.78);
		list-style: none;
		padding: 0 0 0 20px;
		width: 175px;
		margin: 0;
		top: 70px;
		right: -9%;
}
	.User-Dropdown:before {
		content: "";
		position: absolute;
		width: 0;
		height: 0;
		margin-left: -0.5em;
		right: 0px;
		box-sizing: border-box;
		border: 7px solid black;
		border-color: transparent transparent #fff #fff;
		transform-origin: 0 0;
		transform: rotate(135deg);
		box-shadow: -3px 3px 3px -3px rgba(214, 214, 214, 0.78);
}
	.User-Dropdown.U-open {
		display: block;
}
	.User-Dropdown > li {
		padding: 0px;
		line-height: 47px;
		border-bottom: 1px solid rgba(215, 215, 215, 0.17);
}
	.User-Dropdown > li:last-child {
		border-bottom: 0px;
}
	.User-Dropdown > li > a {
		font-size: 13px;
		padding: 15px 5px 16px 10px;
		text-decoration: none;
		color: #1787e0;
		transition: all 0.2s ease-out;
}
	.User-Dropdown > li:before {
		content: '';
		width: 0px;
		height: 40px;
		position: absolute;
		background: #2196f3;
		margin-top: 4px;
		border-radius: 0 1px 1px 0;
		left: 0px;
		transition: all 0.2s ease;
}
	.User-Dropdown > li:hover:before {
		width: 5px;
		border-radius: 30px;
}
	.User-Dropdown > li a:hover {
		margin-left: 5px;
}
@media screen and (max-width: 550px){
	._username {
		visibility:hidden;
	}
}

/* Styles for Cards */
/* Design */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  background-color: #FFFFFF;
}

body {
  color: #272727;
  font-family: 'Quicksand', serif;
  font-style: normal;
  font-weight: 400;
  letter-spacing: 0;
  padding: 0px;
  margin: 0px;
}

.main{
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

h1 {
  font-size: 24px;
  font-weight: 400;
  text-align: center;
  font-family: 'Pacifico', cursive;
  color: #424242;
}

.cards {
  display: flex;
  flex-wrap: wrap;
  list-style: none;
  margin: 0;
  padding: 0;
}

.cards_item {
  display: flex;
  padding: 1rem;
  cursor: pointer;
}

@media (min-width: 40rem) {
  .cards_item {
    width: 50%;
  }
}

@media (min-width: 56rem) {
  .cards_item {
    width: 33.3333%;
  }
}

.card {
  background-color: white;
  border-radius: 0.25rem;
  box-shadow: 0 20px 40px -14px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  height: fit-content;
  overflow: hidden;
  transition: all 0.3s ease-out;
}

.card:hover {
  transform: translateY(-5px) scale(1.04) translateZ(0);
}

.content_images {
  overflow: hidden;
  transition: all 0.3s ease-out;
}

.content_images:hover {
  transform: translateY(-5px) scale(1.04) translateZ(0);  
}

.card_content {
  padding: 1rem;
}

.card_title {
  color: #000000;
  font-size: 1.2rem;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: capitalize;
  margin: 0px;
  text-align: center;
}

.card_text {
  color: #000000;
  font-size: 0.875rem;
  line-height: 1.5;
  margin-bottom: 1.25rem;
  font-weight: 400;
}

.card_icon {
    text-align: center;
}

.pagination {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    padding-left: 0;
    list-style: none;
    border-radius: .25rem;
    justify-content: center;
}

.notify_count {
	background: #16d67a;
	padding: 3px 10px;
	color: #fff;
	border-radius: 30px;
	font-size: 13px;
}

/* width */
::-webkit-scrollbar {
  width: 16px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #606060;
  border: 4px solid rgba(0, 0, 0, 0);
  background-clip: padding-box;
  border-radius: 9999px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #ccc; 
  border: 4px solid rgba(0, 0, 0, 0);
  background-clip: padding-box;
  border-radius: 9999px;
}

::-moz-selection { /* Code for Firefox */
	color: white;
    background: #007bff;  
}

::selection {
	color: white;
    background: #007bff;
}
  </style>
</head>
<body>

    <nav class="navbar sticky-top navbar-light bg-light" style="padding: 18px;">
        <a {% if request.user.is_authenticated %} href="{% url 'dashboard' %}" {% else %} href="/" {% endif %} class="navbar-brand">
            <img class="header_img" src="{% static 'oncl_app/OnCl Logo.gif' %}" alt="OnCl Logo">
			<span style="font-weight: 500; font-family: 'Fredoka One', cursive; color: #3c4043;" id="headername">
				<span class="hidden_text" style="color: tomato;">O</span><span class="hidden_text" style="color: #5f95eb;">n</span><span class="hidden_text" style="color: #76e989;">C</span><span class="hidden_text" style="color: #fcc834">l</span> <span class="hidden_text">- Edu. Cloud</span>
			</span>
        </a>
        <div style="justify-content: flex-end;" class="row">
	        <div class="User-area">
			  <div class="User-avtar">
				  <img alt="avatar" letters="{{user.first_name|first}}" style="width:40px; height:40px; border-radius: 50%;">
				  
				  <a title="{{user.first_name}}" href="#" style="color: #000;"><span class="_username"> <img src="{% static 'oncl_app/images/waving_hand.gif' %}" alt="waving hand" width="40px" height="40px"> Hello, {{user.first_name}} !</span></a>
				  
			  </div>
		      <ul class="User-Dropdown" style="font-weight: 700; box-shadow: 0 20px 40px 5px rgba(0, 0, 0, 0.25);">
				 <li style="line-height: 1.5; padding: 0.6em 0 0 0;" onclick="document.location='{% url 'dashboard' %}'"> 
					<div style="padding-top: 1px; padding: 0px;"> Signed in as </div>
					<div>{{user.username}}</div>
				 </li>
				 {% for group_for in request.user.groups.all %}
					{% if group_for.name == 'Admin' %}
					<li><span><i class="fas fa-chart-bar"></i> </span> <a href="{% url 'aca_stats' %}" target="_blank">Acadmic Stats</a></li>
					<li><span><i class="fas fa-school"></i></span> <a href="{% url 'manage_semester' %}" target="_blank">Sem. Mgmt.</a></li>
					<li><span><i class="fas fa-code-branch"></i></span> <a href="{% url 'manage_branch' %}" target="_blank">Branch Mgmt.</a></li>
					<li><span><i class="fas fa-book"></i> </span> <a href="{% url 'manage_subject' %}" target="_blank">subjects Mgmt.</a></li>
					{% if request.path == '/admin_dashboard/' %}
					<li><span><i class="fas fa-user-graduate"></i> </span> <a href="{% url 'student_leave_view' %}" target="_blank">Leave Info.</a><span class="notify_count">{{count_LeaveReportStudent}}</span></li>
					<li><span><i class="fas fa-chalkboard-teacher"></i> </span> <a href="{% url 'staff_leave_view' %}" target="_blank">Leave Info.</a><span class="notify_count">{{count_LeaveReportStaff}}</span></li>
					{% else %}
					<li><span><i class="fas fa-user-graduate"></i> </span> <a href="{% url 'student_leave_view' %}" target="_blank">Leave Info.</a></li>
					<li><span><i class="fas fa-chalkboard-teacher"></i> </span> <a href="{% url 'staff_leave_view' %}" target="_blank">Leave Info.</a></li>
					{% endif %}
					{% elif group_for.name == 'Faculty' %}
					<li><span><i class="fas fa-user-circle"></i> </span> <a href="{% url 'faculty_profile' %}" target="_blank">My Profile</a></li>
					
					<li><span><i class="fas fa-photo-video"></i> </span> <a href="{% url 'view_session' %}" target="_blank">PCS Cloud</a></li>
					<li><span><i class="far fa-edit"></i> </span> <a href="{% url 'exam_evaluation' %}" target="_blank">Exams</a></li>
					<li><span><i class="far fa-calendar-alt"></i> </span> <a href="{% url 'timetable' %}" target="_blank">Schedule</a></li>
					<li><span><i class="fas fa-book"></i> </span> <a href="{% url 'view_book' %}" target="_blank">E - Library</a></li>
					<li><span><i class="fas fa-chalkboard-teacher"></i> </span> <a href="{% url 'staff_apply_leave' %}" target="_blank">Leave Info.</a></li>
					
					<li><span><i class="fas fa-video"></i> </span> <a href="{% url 'start_live_classroom' %}" target="_blank">Online VC</a></li>
					{% else %}
					<li><span><i class="fas fa-user-circle"></i> </span> <a href="{% url 'student_profile' %}">My Profile</a></li>
					
					<li><span><i class="fas fa-photo-video"></i> </span> <a href="{% url 'view_session' %}">PCS Cloud</a></li>
					<li><span><i class="far fa-edit"></i> </span> <a href="{% url 'view_my_marks' %}">Exam Marks</a></li>
					<li><span><i class="far fa-calendar-alt"></i> </span> <a href="{% url 'timetable' %}">Schedule</a></li>
					<li><span><i class="fas fa-book"></i> </span> <a href="{% url 'view_book' %}">E - Library</a></li>
					<li><span><i class="fas fa-user-graduate"></i> </span> <a href="{% url 'student_apply_leave' %}" target="_blank">Leave Info.</a></li>
					
					<li><span><i class="fas fa-video"></i> </span> <a href="{% url 'join_class_room' 13 %}" target="_blank">Online VC</a></li>
					{% endif %}
				 {% endfor %}
				 {% if request.path == '/admin_dashboard/' or request.path == '/faculty_dashboard/' or request.path == '/student_dashboard/' %}
				 <li><span><i class="far fa-list-alt"></i> </span> <a href="{% url 'tasks' %}" target="_blank">To Do List</a><span class="notify_count">{{count_Task}}</span></li>
				 {% else %}
				 <li><span><i class="far fa-list-alt"></i> </span> <a href="{% url 'tasks' %}" target="_blank">To Do List</a></li>
				 {% endif %}
				 <li><span><i class="fas fa-music"></i> </span> <a href="{% url 'audio' %}" target="_blank">FAR Space</a></li>
				 
		         <li><span><i class="fas fa-sign-out-alt"></i></span> <a href="{% url 'logout' %}">Logout</a></li>
		      </ul>
			</div>
       	</div>
    </nav>

    {% block content %}{% endblock %}

    {% include 'oncl_app/top_button.html' %}

	{% include 'oncl_app/messages.html' %}
  
  <script>
    $('.User-avtar').click(function(event) {
  	  event.stopPropagation();
  	  if( $(".User-Dropdown").hasClass( "U-open" ) ){
  	      $('.User-avtar').removeClass('__opened');
  	          $('.User-Dropdown').removeClass("U-open");
  	  }
  	  else {
  	      $('.User-avtar').addClass('__opened');
  	          $('.User-Dropdown').addClass("U-open");
  	  }
  	});
  	$(document).click(function() {
  	      $('.User-avtar').removeClass('__opened');
  	  $('.User-Dropdown').removeClass("U-open");
  	});
  </script>

<script>
	(function (w, d) {
	
	function AvatarImage(letters, size) {
	  var canvas = d.createElement('canvas');
	  var context = canvas.getContext("2d");
	  var size = size || 60;
	
	// Generate a random color every time function is called
	//   var color =  "#" + (Math.random() * 0xFFFFFF << 0).toString(16);
	var myArray = [ "#ff6347", "#5f95eb", "#76e989", "#fcc834", "#ba68c8", "#607d8b", "#ec407a" ];
	var color = myArray[Math.floor(Math.random()*myArray.length)];
	
	  // Set canvas with & height
	  canvas.width = size;
	  canvas.height = size;
	
	  // Select a font family to support different language characters
	  // like Arial
	  context.font = Math.round(canvas.width / 2) + "px Arial";
	  context.textAlign = "center";
	
	  // Setup background and front color
	  context.fillStyle = color;
	  context.fillRect(0, 0, canvas.width, canvas.height);
	  context.fillStyle = "#FFF";
	  context.fillText(letters, size / 2, size / 1.5);
	
	  dataURI = canvas.toDataURL('image/webp', 1.0);
	
	  // Dispose canvas element
	  canvas = null;
	
	  return dataURI;
	}
	
	w.AvatarImage = AvatarImage;
	
	})(window, document);
	
	(function(w, d) {
	  function generateAvatars() {
		var images = d.querySelectorAll('img[letters]');
		for (var i = 0, len = images.length; i < len; i++) {
		  var img = images[i];
		  img.src = AvatarImage(img.getAttribute('letters'), img.getAttribute('width'));
		  img.removeAttribute('letters');
		}
	  }
	  d.addEventListener('DOMContentLoaded', function (event) {
		  generateAvatars();
	  });
	})(window, document);
	</script>

</body>
</html>
